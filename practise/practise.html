<head>
  <title>practise</title>
 <!--  <script>
    ChatraID = 'xsLe7wa4iLw3bL6G3';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//chat.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script> -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
rel="stylesheet">

<meta name="viewport"
content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>

<body>

</body>


<template name="home">
 {{>style}}
<div class="container">
  {{>login}} {{>register}}
  <div id="tagline" class="col s6">
    <h4 class="tag"> Find Your PureMatch</h4>
    <br>
  </div>
</div>
</template>



<!-- .........................Register form............... -->

<template name="register">
   <div class="row">
     <div class="col s4">
      <div class = "card-panel grey lighten-2 center-align" >
        <form  class="register">
          <p>Email: <input type="email" name= "email">  </p>
          <p>Password: <input type="password" name="password"></p>
          <p>User Name: <input type="text" name="username"></p>
          <p class="center-align"> <input id="1" type="radio"
            name="sex" value="male" required>
          <label for="1">Male </label>
          <input id="2" type="radio" name="sex" value="female" required>
          <label for="2"> Female</label></p>
          <input id="button" class= "waves-effect waves-light btn-large"
          type="submit" value="register">
        </form>
     </div>
   </div>
  </div>
</template>


<!-- .........................Login............... -->

<template name="login">
  <div class="row">
    <form class="col s12">
      <div class="row">
        <div class="input-field col s6">
        <input id="email" type="email">
        <label class ="black-text" for="email">Email</label>
        </div>
        <div class="input-field col s5">
        <input id="password" type="password">
        <label class ="black-text"
        for="password">Password</label>
        </div>
        <div class="col s1" >
        <input class= "waves-effect waves-light btn-large"
        type="submit" value="login">
        </div>
      </div>
    </form>
  </div>
</template>


 <!-- .........................Details input form............... -->

<template name="details">
 {{>style_show}}
  <div class="container">
    <div class="card-panel">
      {{#if currentUser }}
       {{> quickForm collection="Biye" id="details" type="insert" omitFields="createdBy"}}
      {{/if}}
    </div>
  </div>
</template>

<!-- .........................list............... -->

<template name="list">
 {{>style_list}}
  {{>header}}

{{#if currentUser}}
    <ul class="hide-on-med-and-down">
         <div class="row">
        {{#each people}}
            <div class="col s3">
              <div class="card small hoverable">
                <div class="card-image">
                  <img src="/1.jpg">
                   <span class="card-title">   {{username}} </span>
                    </div>
                     <div class="card-content">
                     <p>{{profile.gender}}</p>
                    </div>
                   <div class="card-action">
                  <a href="{{pathFor 'show'}}">Yes</a>
                </div>
              </div>
            </div>
        {{/each}}
          </div>
    </ul>

    <div class="container">
      {{#each people}}
        <ul class="collection hide-on-large-only">
          <li class="collection-item avatar">
            <img src="/1.jpg" alt="" class="circle">
            <span class="title">{{username}}</span>
            <p>{{profile.gender}}
            </p>
             <a href="{{pathFor 'show'}}" id="buttonlist"
             class="waves-effect waves-light btn right" >See More</a>
          </li>
        </ul>
      {{/each}}
    </div>

<!-- {{pathFor 'show'}} -->

{{/if}}

</template>


<!-- .................show everything template............... -->

<template name="show">
  {{>header}}
  {{>style_show}}

<div class="container">

<div>
   <h2> {{username}}'s profile </h2>
</div>

  <div id="sidebar-wrapper">
      <ul class="sidebar-nav">
    <li>
     {{#if this.isFriendsWith currentUser }}

          {{#with  detailsDb}}
            <div class="col s4">
               <img class="responsive-img materialboxed initialized" width="400"
                src=" {{image}}" alt="">
            </div>
          {{/with}}
        <a id="friendship" name= "end-friendship"
        class="waves-effect waves-light btn red lighten-1">Unfriend</a>

        {{else}}

          {{#if currentUser.hasRequestFrom this}}
          <img class="materialboxed" width="400" src="/1.jpg">
          <a id="friendship" name= "accept"
          class="waves-effect waves-light btn teal accent-3">দেখেন তাহলে </a>

        {{else}}

        {{#if hasRequestFrom currentUser}}
         <img class="materialboxed" width="400" src="/1.jpg">
         <a id="friendship" name= "cancel-request"
         class="waves-effect waves-light btn red lighten-1">No  </a>

         {{else}}

         <img class="materialboxed" width="400" src="/1.jpg">
         <a id="friendship" name= "add-friend"
         class="waves-effect waves-light btn green lighten-1">ছবি দেখব </a>

         {{/if}}
         {{/if}}
      {{/if}}
    </li>
          <br>
   <li>
      <a href="#" id="chatButton" name= "chat"
      class="waves-effect waves-light btn large indigo">Chat
      <i class="material-icons">chat_bubble_outline</i>
    </a>
   </li>
</ul>
  </div>



  {{#with detailsDb}}
  <div class="section processes-container">
    <div class="row">
      <h2 class="header indigo-text lighten-1 section-title">
          <span>Details</span>
      </h2>
    </div>

         <div class="row">

           <div class="col s12 m4">
               <div class="card small">
                 <div class="card-image waves-effect waves-block waves-light">
                   <img class="activator" src="/certificate.jpg">
                 </div>
                 <div class="card-content">
                   <span class="card-title activator grey-text text-darken-4">
                     Card Title
                   <i class="small material-icons right">swap_vertical_circle</i></span>
                 </div>
                 <div class="card-reveal">
                   <span class="card-title grey-text text-darken-4">Card Title
                    <i class="material-icons right">face</i>
                  </span>
                    <p>Here is some more information about this product that
                     is only revealed once clicked on.</p>
                 </div>
              </div>
           </div>

             <div class="col s12 m4">
                 <div class="card small">
                   <div class="card-image waves-effect waves-block waves-light">
                     <img class="activator" src="/certificate.jpg">
                   </div>
                   <div class="card-content">
                     <span class="card-title activator grey-text text-darken-4">
                       Card Title
                     <i class="small material-icons right">swap_vertical_circle</i></span>
                   </div>
                   <div class="card-reveal">
                     <span class="card-title grey-text text-darken-4">Card Title
                      <i class="material-icons right">face</i>
                    </span>
                      <p>Here is some more information about this product that
                       is only revealed once clicked on.</p>
                   </div>
                </div>
             </div>

             <div class="col s12 m4">
                 <div class="card small">
                   <div class="card-image waves-effect waves-block waves-light">
                     <img class="activator" src="/certificate.jpg">
                   </div>
                   <div class="card-content">
                     <span class="card-title activator grey-text text-darken-4">
                       Card Title
                     <i class="small material-icons right">swap_vertical_circle</i></span>
                   </div>
                   <div class="card-reveal">
                     <span class="card-title grey-text text-darken-4">Card Title
                      <i class="material-icons right">face</i>
                    </span>
                      <p>Here is some more information about this product that
                       is only revealed once clicked on.</p>
                   </div>
                </div>
             </div>
         </div> {{!-- row end --}}

     </div>
  {{/with}}

</div>  {{!-- container --}}
</template>



<!-- .....................navbar............................. -->

<template name="header">
<div class="navbar-fixed">
  <nav>
    <div class="nav-wrapper">
      <a href="#" id="brandLogo"
      name= "brand-logo" class="brand-logo left hide-on-med-and-down">
        {{#with me }}
            {{username}}
        {{/with}}
      </a>

      <div class="center-align right">
        <a href="#" id="buttonLogout" name= "logout"
         class="waves-effect waves-light btn red lighten-1">Logout</a>
      </div>

      <ul class="right">
        <!-- Dropdown Trigger -->
        <li><a class="dropdown-button" name ="photoSent" href="#"
        data-activates="dropdown1">Photo Requests
        </a></li>

        <li><a class="dropdown-button" name ="chatReceived" href="#"
        data-activates="dropdown3">Chat Invitaions
        </a></li>
      </ul>

    </div>
  </nav>
</div>

<!-- dropdown1 structure -->

<ul id="dropdown1" class="dropdown-content">
    {{#each requestFromMe}}
      <li>
      <span class="black-text">
      You have requested to view {{user.username}}'s photo</span>
      </li>
    {{/each}}

    {{#each requestFromPeople}}
      <li>
      <span class="black-text">
        {{requester.username}} wants to view you photo</span>
      </li>
    {{/each}}

</ul>


<ul id="dropdown3" class="dropdown-content">
    {{#each  youAreInvited}}
       <li> <a href="{{pathFor 'chat'}}"> <span class="black-text">
       {{inviter}} wants to chat with You</span></a>
      </li>
    {{/each}}

    {{#each  ihaveInvited}}
        <li> <a href="{{pathFor 'chat'}}">
        <span class="black-text">
        You have invited {{this.invited}}</span></a>
        </li>
    {{/each}}

</ul>
</template>



<!-- .....................StyleSheet............. -->

<template name="style_show">
  <style>
      body {background-color: #ecf0f1;}
  </style>
</template>

<template name="style_list">
  <style>
  body {background-color: #ede7f6;}
  </style>
</template>

<template name="style">
  <style>
      body {
  height: 100%;
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-top: 53px;
  padding-bottom: 64px;
  background-color:#4aa3df;
}

  </style>
</template>


<!-- // .....................Chat .............// -->


<template name="chat">
 {{#if currentUser}}
    {{>header}}
    <div class="container">
            {{> sidebar }}
            {{> messages }}
            {{> input }}
    </div>

  {{/if}}

  <style>
    body {background-color:  #ede7f6;}
  </style>

</template>



<template name="sidebar">
    <div id="sidebar-wrapper">
      <div id="side">
        <ul id="nav-mobile" class="side-nav fixed" style="width:250px;">
            <li>
                <a class="brand-logo " style="font-size:25px;" href=" #">
                    conversations
                </a>
            </li>

            {{#each conversationsIstarted}}
                <li name="user">
                <a href='#' style="font-size:17px;">{{invited}}</a></li>
            {{/each}}

            {{#each conversationsIwasInvited}}
              <li name="user">
              <a href='#' style="font-size:17px;">{{inviter}}</a></li>
            {{/each}}
        </ul>
      </div>
    </div>
</template>



<template name="messages">
  {{#with displayMessages}}
      {{#each this.messages}}
      <div class="row">
        <div id="message" class="col s8">
          <strong class="mess">{{user.username}}:</strong>
           <span class="bodyOfMessage"> {{body}} </span><br>
        </div>
      </div>
      {{/each}}
  {{/with}}
</template>


<template name="input">
  <div id="inputMessage">
     <input type="text" name="message">
  </div>
</template>
